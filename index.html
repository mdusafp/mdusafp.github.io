<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>–ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç—å production —Å webpack 5 module federation?</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="fonts/JetBrainsMono.css" />
    <link rel="stylesheet" href="dist/theme/serif.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üë®‚Äçüç≥</text></svg>">

    <!--  -->
    <!-- Theme used for syntax highlighted code -->
    <!--<link rel="stylesheet" href="plugin/highlight/monokai.css" />-->
    <!--<link rel="stylesheet" href="plugin/highlight/stackoverflow.css" />-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/atom-one-dark.min.css"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section id="intro">
          <h2>
            üë®‚Äçüç≥<br />–ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç—å production —Å webpack 5 module federation?
          </h2>
          <aside class="notes">
            <p>–ú–∞–ª–æ –∏–Ω—Ñ—ã</p>
            <p>–ú–Ω–æ–≥–æ —Ö–∞–π–ø–∞</p>
            <p>–ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –≤–Ω–µ stackoverflow</p>
          </aside>
        </section>

        <section id="about-me">
          <div style="align-items: center; display: flex">
            <div style="flex: 1">
              <div
                class="avatar"
                style="
                  background: url(./images/me.jpg) no-repeat;
                  background-size: cover;
                  border-radius: 50%;
                  height: 300px;
                  margin: 0 auto;
                  overflow: hidden;
                  width: 300px;
                "
              ></div>
              <p class="name" style="font-size: 28px">–í–∞–¥–∏–º –ú–∞–ª—é—Ç–∏–Ω</p>
              <p class="telegram" style="font-size: 28px">
                —Ç–µ–ª–µ–≥—Ä–∞–º: t.me/mfpjke
              </p>
              <p class="email" style="font-size: 28px">
                –ø–æ—á—Ç–∞: mltn.dev@yandex.ru
              </p>
              <p class="site" style="font-size: 28px">—Å–∞–π—Ç: mltn.dev</p>
            </div>

            <div style="flex: 1; text-align: left">
              <p style="font-size: 24px">
                <b>–Ø</b> Senior Software Engineer –≤ <b>Grid Dynamics</b>
              </p>
              <p style="font-size: 24px">
                –°–æ-–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏ –æ–¥–µ–∂–¥—ã –≤ –≤–µ–±–µ
                <b>clo-z.app</b>
              </p>
              <p style="font-size: 24px">
                –°–æ-–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å IT-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞ <b>VectorWay</b>
              </p>
              <p style="font-size: 24px">
                –°–æ-–∞–≤—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≥–ª–∞–∑, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞
                <b>Flutter</b>
              </p>
              <p style="font-size: 24px">
                –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ <b>AWS</b> ‚Äì 853/1000 score
              </p>
              <p style="font-size: 24px"><b>Previous experience:</b></p>
              <p style="font-size: 24px">Yandex</p>
              <p style="font-size: 24px">Bekitzur</p>
            </div>
          </div>
        </section>

        <section data-background-image="./images/motivation.jpeg">
          <h2 style="color: #fafafa">–ú–æ—Ç–∏–≤–∞—Ü–∏—è</h2>
          <aside class="notes">
            <p>–ú—ã —Å—Ç—Ä–∞–¥–∞–ª–∏, —Ö–æ—Ç–∏–º –æ–±–ª–µ–≥—á–∏—Ç—å –∂–∏–∑–Ω—å –≤–∞–º</p>
            <p>–ü—Ä–∏–≤–µ–¥—É –ø—Ä–∏–º–µ—Ä—ã –∏ —Ä–µ—à–µ–Ω–∏—è</p>
            <p>–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–µ–ª—å–∑—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å</p>
          </aside>
        </section>

        <section>
          <h2>–¶–µ–ª–µ–≤–∞—è –ê—É–¥–∏—Ç–æ—Ä–∏—è</h2>
          <ul>
            <li class="fragment">–ù–µ —Å–ª—ã—à–∞–ª, –Ω–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ</li>
            <li class="fragment">–ó–∞—á–µ–º –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –º–æ–Ω–æ–ª–∏—Ç?</li>
            <li class="fragment">–í –ø–æ–∏—Å–∫–∞—Ö</li>
            <li class="fragment">–£–∂–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º, –Ω–æ –Ω–µ –≤—ã–∫–∞—Ç–∏–ª–∏—Å—å</li>
            <li class="fragment">–í—ã–∫–∞—Ç–∏–ª–∏—Å—å, –Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∫–∞–∫ —É –¥—Ä—É–≥–∏—Ö</li>
          </ul>
        </section>

        <section>
          <h2>–ü—É—Ç—å</h2>
          <div style="display: flex">
            <div style="flex: 1">
              <p class="fragment" style="text-align: left"><b>–î–æ –¥–æ–∫–ª–∞–¥–∞</b></p>
              <ul>
                <li class="fragment">–£–º–µ—é –≤ –º–æ–Ω–æ–ª–∏—Ç</li>
                <li class="fragment">–ú–æ–≥—É –≤ —Ä–µ–∞–∫—Ç</li>
                <li class="fragment">–ù–µ —Å–∏–ª–µ–Ω –≤ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã</li>
              </ul>
            </div>
            <div style="flex: 1">
              <p class="fragment" style="text-align: left">
                <b>–ü–æ—Å–ª–µ –¥–æ–∫–ª–∞–¥–∞</b>
              </p>
              <ul>
                <li class="fragment">–£–º–µ—é –≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã</li>
                <li class="fragment">–ó–Ω–∞—é –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ —Ä–µ—à–µ–Ω–∏—è</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h2>–ü—Ä–æ–±–ª–µ–º–∞</h2>
          <div style="display: flex">
            <div style="flex: 1; display: flex; flex-direction: column;">
              <p class="fragment" style="text-align: left"><b>–û –ø—Ä–æ–µ–∫—Ç–µ</b></p>
              <ul>
                <li class="fragment">–û–¥–Ω–∞ —Å—Ñ–µ—Ä–∞</li>
                <li class="fragment">–ú–Ω–æ–≥–æ –∫–æ–º–∞–Ω–¥</li>
                <li class="fragment">–ú–Ω–æ–≥–æ —Å–∞–π—Ç–æ–≤</li>
              </ul>
            </div>
            <div style="flex: 1; display: flex; flex-direction: column;">
              <p class="fragment" style="text-align: left"><b>–°–ª–µ–¥—É–µ—Ç</b></p>
              <ul>
                <li class="fragment">–°–ª–æ–∂–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è</li>
                <li class="fragment">–°–ª–æ–∂–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</li>
                <li class="fragment">–°–ª–æ–∂–Ω–æ –≤—ã–∫–∞—Ç—ã–≤–∞—Ç—å —Å–∫–≤–æ–∑–Ω—ã–µ —Ñ–∏—á–∏</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h2>–ß—Ç–æ —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å?</h2>
          <ul>
            <li class="fragment">–î–æ–≤–æ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
            <li class="fragment">–ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω</li>
            <li class="fragment">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/–¥–µ–ø–ª–æ—è</li>
            <li class="fragment">–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</li>
            <li class="fragment">–ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ UI</li>
          </ul>
        </section>

        <section>
          <h2>–†–µ—à–µ–Ω–∏–µ</h2>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 100px 1fr;
              text-align: left;
            "
          >
            <span class="fragment">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã</span>
            <span class="fragment">=&gt;</span>
            <span class="fragment">–°–∫–æ—Ä–æ—Å—Ç—å</span>
          </div>
          <div
            style="
              display: grid;
              grid-template-columns: 1fr 100px 1fr;
              text-align: left;
            "
          >
            <span class="fragment">–ú–æ–Ω–æ—Ä–µ–ø–∞</span>
            <span class="fragment">=&gt;</span>
            <span class="fragment">–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ</span>
          </div>
        </section>

        <section>
          <h2>–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã</h2>
          <ul>
            <li class="fragment">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º</li>
            <li class="fragment">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–µ–ø–ª–æ–∏–º</li>
            <li class="fragment">–ù–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º</li>
          </ul>
        </section>

        <section>
          <h2>–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π</h2>
          <ul>
            <li class="fragment">–û–¥–∏–Ω CI/CD</li>
            <li class="fragment">
              –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏/–≤–µ—Ä—Å–∏—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤
            </li>
            <li class="fragment">–ù–µ –Ω—É–∂–Ω–æ –ª–∏–Ω–∫–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã</li>
            <li class="fragment">–ù–µ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤</li>
          </ul>
        </section>

        <section>
          <section>
            <h2>–í—ã–±–µ—Ä–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é</h2>
            <ul>
              <li class="fragment">SSI</li>
              <li class="fragment">Iframe</li>
              <li class="fragment">Realms</li>
              <li class="fragment">Shadow DOM</li>
              <li class="fragment">Single-SPA</li>
              <li class="fragment">Webpack 5</li>
            </ul>
          </section>

          <section data-background-image="./images/hard-choice.jpeg"></section>
          <section data-background-image="./images/pavel-chertorogov.png" data-background-size="contain"></section>
          <section data-background-image="./images/alexey-gusev.png"data-background-size="contain"></section>
        </section>

        <section data-background-image="./images/lets-code-it.png"></section>
        <section data-background-image="./images/demo.png"></section>

        <section>
          <section>
            <h2>Watch</h2>
            <p>–û–±—ä—è–≤–ª—è–µ–º remote</p>

            <pre>
              <code data-trim data-noescape data-line-numbers="1-8|1,8|2|3|4|5-7">
                new ModuleFederationPlugin({
                  name: "watch",
                  filename: "remoteEntry.js",
                  library: { type: "var", name: "watch" },
                  exposes: {
                    "./page": "./src/components/page",
                  }
                })
              </code>
            </pre>
          </section>

          <section>
            <p>–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–∫—É–¥–∞ —Ä–∞–∑–¥–∞–µ–º —Å—Ç–∞—Ç–∏–∫—É</p>
            <pre>
              <code class="hljs" data-trim data-noescape data-line-numbers="1-5|4">
                output: {
                  path: path.resolve(process.cwd(), "dist"),
                  filename: "[name].[contenthash].js",
                  publicPath: "http://localhost:3003/",
                }
              </code>
            </pre>

            <aside class="notes">
              <p>Marketplace –¥–µ–ª–∞–µ–º –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h2>AppHost</h2>
            <p>–û–±—ä—è–≤–ª—è–µ–º —Ö–æ—Å—Ç</p>
            <pre>
              <code class="hljs" data-trim data-noescape data-line-numbers="1-6|2|3-5">
                new ModuleFederationPlugin({
                  name: "app_host",
                  remotes: {
                    watch: "watch",
                  }
                })
              </code>
            </pre>
          </section>

          <section>
            <p>–î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç—ã</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                new HtmlWebpackTagsPlugin({
                  tags: ["http://localhost:3003/remoteEntry.js"],
                  // –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –¥–æ app_host
                  append: false,
                  publicPath: false,
                }),
              </code>
            </pre>
          </section>
        </section>

        <section>
          <h2>–ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ</h2>
          <pre>
            <code class="hljs" data-trim data-noescape>
              const WatchPage = lazy(() =&gt; import("watch/page"));
              ...
              render() {
                return (
                  &lt;Switch&gt;
                    &lt;Route path="/watch"&gt;
                      &lt;Suspense fallback="Loading..."&gt;
                        &lt;WatchPage /&gt;
                      &lt;/Suspense&gt;
                    &lt;/Route&gt;
                  &lt;/Switch&gt;
                )
              }
            </code>
          </pre>
        </section>

        <section>
          <section>
            <h2>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã?</h2>
          </section>

          <section>
            <p>–°–∞–º –¥–æ–±–∞–≤–ª—é —Å–∫—Ä–∏–ø—Ç—ã</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                new HtmlWebpackTagsPlugin({
                  tags: ["http://localhost:3003/remoteEntry.js"],
                  // –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –¥–æ app_host
                  append: false,
                  publicPath: false,
                }),
                new ModuleFederationPlugin({
                  name: "app_host",
                  remotes: {
                    watch: "watch",
                  }
                })
              </code>
            </pre>
          </section>

          <section>
            <p>Module federation –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                new ModuleFederationPlugin({
                  name: "app_host",
                  remotes: {
                    watch: "watch@http://localhost:3003/remoteEntry.js",
                  }
                })
              </code>
            </pre>
            <aside class="notes">
              <p>–ó–∞–ø–æ–º–Ω–∏–ª–∏, –µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞</p>
              <p>–ü–æ—Ç–æ–º –∫ –Ω–∏–º –≤–µ—Ä–Ω–µ–º—Å—è</p>
            </aside>
          </section>

          <section>
            <h2>–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ?</h2>
          </section>

          <section>
            <pre>
              <code class="hljs" data-trim data-noescape>
                &lt;head&gt;
                  &lt;script
                    src="http://localhost:3003/remoteEntry.js"
                    defer
                  &gt;&lt;/script&gt;
                  &lt;script
                    src="http://localhost:3001/app.ed5a105fae04a74d5e4b.js"
                    defer
                  &gt;&lt;/script&gt;
                &lt;/head&gt;
              </code>
            </pre>
          </section>

          <section>
            <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ remoteEntry.js?</h2>
          </section>

          <section>
            <div class="r-stack">
              <img class="fragment fade-out" data-fragment-index="0" src="./images/remoteEntry.png">
              <img class="fragment" data-fragment-index="0" src="./images/container.png">
            </div>
          </section>

          <section>
            <p>–ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</p>
            <ul>
              <li class="fragment">–°–∞–º –¥–æ–±–∞–≤–ª—é —Å–∫—Ä–∏–ø—Ç—ã</li>
              <li class="fragment">Module federation –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã</li>
            </ul>
          </section>

          <section data-background-image="./images/fb-news-mf-1.png"></section>
          <section data-background-image="./images/fb-news-mf-2.png"></section>

          <section>
            <p>app-host/webpack.config.ts</p>
            <pre>
              <code data-trim data-noescape>
                new HtmlWebpackTagsPlugin({
                  tags: ["http://localhost:3003/remoteEntry.js", ...],
                  // –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –¥–æ app_host
                  append: false,
                  publicPath: false,
                }),
              </code>
            </pre>
          </section>

          <section>
            <p>–ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</p>
            <ul>
              <li><strike>–°–∞–º –¥–æ–±–∞–≤–ª—é —Å–∫—Ä–∏–ø—Ç—ã</strike></li>
              <li>Module federation –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã</li>
            </ul>
          </section>

          <section>
            <h2>–û—à–∏–±–∫–∏</h2>
          </section>

          <section>
            <h2>–ù–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥?</h2>
            <pre><code data-trim data-noescape>
                react-dom.production.min.js:216 Error: Container missing
                while loading "./page" from 6448
                  at n (remotes loading:39)
                  at remotes loading:60
                  at u (remotes loading:54)
                  at remotes loading:68
                  at Array.forEach (<anonymous>)
                  at Object.f.f.remotes (remotes loading:31)
                  at ensure chunk:6
                  at Array.reduce (<anonymous>)
                  at Function.f.e (ensure chunk:5)
                  at index.tsx:8
              </code></pre>
            <aside class="notes">
              <p>NODE_ENV=production</p>
              <p>webpack.config.ts &gt; splitChunks</p>
            </aside>
          </section>

          <section>
            <pre>
              <code data-trim data-noescape>
                optimization: {
                  splitChunks: {
                    cacheGroups: {
                      react: {
                        test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/,
                        name: "react",
                        chunks: "all",
                      },
                      commons: {
                        test: /[\\/]node_modules[\\/]/,
                        name: "vendors",
                        chunks: "all",
                        priority: -20,
                      },
                    },
                  },
                }
              </code>
            </pre>
          </section>

          <section>
            <h2>–ì–¥–µ –µ—â–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏?</h2>
          </section>

          <section>
            <div class="fragment">
              <p>watch/webpack.config.ts</p>
              <pre>
                <code data-trim data-noescape data-line-numbers="1-5|1,4">
                  output: {
                    path: path.resolve(process.cwd(), "dist"),
                    filename: "[name].[contenthash].js",
                    publicPath: "http://localhost:3002/",
                  },
                </code>
              </pre>
            </div>

            <div class="fragment">
              <p>app-host/webpack.config.ts</p>
              <pre>
                <code class="javascript" data-trim data-line-numbers="1-10|6-8">
                  plugins: [
                    new ModuleFederationPlugin({
                      name: "app_host",
                      filename: "remoteEntry.js",
                      library: { type: "var", name: "app_host" },
                      remotes: {
                        watch: "watch@http://localhost:3003/remoteEntry.js",
                      }
                    })
                  ]
                </code>
              </pre>
            </div>
          </section>

          <section>
            <p>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤ remotes</p>
            <pre>
              <code class="javascript" data-trim data-line-numbers="1-6|2|3-5">
                remotes: {
                  "mf-app": "mf-app@http://localhost:3003/remoteEntry.js",
                  "mf-app": "mf_app@http://localhost:3003/remoteEntry.js",
                  "mf_app": "mf_app@http://localhost:3003/remoteEntry.js",
                  "mfApp": "mfApp@@http://localhost:3003/remoteEntry.js"
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <section>
            <h2>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?</h2>
          </section>

          <section>
            <p>watch/webpack.config.ts</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                new ModuleFederationPlugin({
                  name: "watch",
                  filename: "remoteEntry.js",
                  library: { type: "var", name: "watch" },
                  exposes: {
                    "./page": "./src/components/page",
                  }
                })
              </code>
            </pre>
          </section>

          <section>
            <p>watch/webpack.config.ts</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                output: {
                  path: path.resolve(process.cwd(), "dist"),
                  filename: "[name].[contenthash].js",
                  publicPath: "http://localhost:3002/",
                },
              </code>
            </pre>
          </section>

          <section>
            <p>app-host/webpack.config.ts</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                new ModuleFederationPlugin({
                  name: "app_host",
                  remotes: {
                    watch: "watch@http://localhost:3003/remoteEntry.js",
                  }
                })
              </code>
            </pre>
          </section>
          <section>
            <p>app-host/app.tsx</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                import React, { lazy, Suspense } from 'react'
                const WatchPage = lazy(() =&gt; import('watch/page'))
                ...
                render() {
                  return (
                    &lt;Suspense fallback="Loading..."&gt;
                      &lt;WatchPage /&gt;
                    &lt;/Suspense&gt;
                  )
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <section>
            <h2>–ù–æ –∫–∞–∫ –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å?</h2>
            <ul>
              <li class="fragment">
                <span class="fragment highlight-red">–≠–∫—Å–ø–æ—É–∑–∏—Ç—å —É–∂–µ —Å –∞–Ω–∏–º–∞—Ü–∏–π</span>
              </li>
              <li class="fragment">
                <span class="fragment highlight-green">–ù–∞–ø–∏—Å–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É –¥–ª—è React.lazy</span>
              </li>
            </ul>
          </section>

          <section>
            <p>–û–±–µ—Ä—Ç–∫–∞ –¥–ª—è React.lazy</p>
            <pre>
              <code class="hljs" data-trim data-noescape>
                /**
                 * @param factory ‚Äì () =&gt; import('microfront/component')
                 */
                export function preloadLazy(factory) {
                  const Component = lazy(factory)
                  Component.preload = factory
                  return Component
                }
              </code>
            </pre>
          </section>

          <section>
            <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±–µ—Ä—Ç–∫—É</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-15|1|4-7|9-14">
                const WatchPage = preloadLazy(() =&gt; import('watch/page'))

                const App = () =&gt; {
                  const [animate, setAnimate] = useState(false)
                  useLayoutEffect(() =&gt; {
                    WatchPage.preload().then(() =&gt; setAnimate(true))
                  }, [])

                  return (
                    &lt;Suspense fallback="..."&gt;
                      &lt;Animation in={animate}&gt;
                        &lt;WatchPage /&gt;
                      &lt;/Animation&gt;
                    &lt;/Suspense&gt;
                  )
                }
              </code>
            </pre>
          </section>

          <section>
            <h2>–ê–Ω–∏–º–∏—Ä—É–µ–º –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏</h2>
            <ul>
              <li class="fragment">–ù–∞—Ö–æ–¥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</li>
              <li class="fragment">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç => –ø–æ–¥–≥—Ä—É–∂–∞–µ–º</li>
              <li class="fragment">–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç => Suspense</li>
              <li class="fragment">–°–∫–∞—á–∞–ª—Å—è => –∞–Ω–∏–º–∏—Ä—É–µ–º</li>
              <li class="fragment">–ù–∞–≤–∏–≥–∞—Ü–∏—è => —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
            </ul>
          </section>
        </section>

        <section>
          <section><h2>–Ø –Ω–µ —Ö–æ—á—É —Å–∫–∞—á–∏–≤–∞—Ç—å react –¥–≤–∞–∂–¥—ã</h2></section>
          <section>
            <pre><code class="hljs" data-trim data-noescape data-line-numbers="1-10|3-9|4|5|6|7">
              new ModuleFederationPlugin({
                ...
                shared: {
                  react: {
                    eager: true, # –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π –º–æ–¥—É–ª—å –ø—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
                    singleton: true, # –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä
                    requiredVersion: dependencies.react,
                  }
                }
              })
            </code></pre>
          </section>
        </section>

        <section>
          <section><h2>–•–æ—á—É –ø–æ—à–∞—Ä–∏—Ç—å context</h2></section>

          <section>
            <p>–°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç shared/contexts/index.ts</p>
            <pre>
              <code class="jsx" data-trim data-noescape>
                import { createContext, useContext } from 'react'

                export const UserContext = createContext({ id: '', name: '' })
                export const useUser = () =&gt; useContext(UserContext)
              </code>
            </pre>
          </section>

          <section>
            <p>–î–æ–±–∞–≤–ª—è–µ–º –≤ app-host/webpack.config.ts</p>
            <pre>
              <code class="jsx" data-trim data-noescape>
                shared: {
                  '@contexts': {
                    singleton: true,
                    import: path.resolve('./shared/contexts')
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <p>–î–æ–±–∞–≤–ª—è–µ–º React –¥–µ—Ä–µ–≤–æ</p>
            <pre>
              <code class="jsx" data-trim data-noescape>
                import { UserContext } from '@contexts'
                ...
                &lt;UserContext.Provider value={{ id: '1234', name: 'Viktor' }}&gt;
                  &lt;WatchPage /&gt;
                &lt;/UserContext.Provider&gt;
              </code>
            </pre>
          </section>

          <section>
            <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ</p>
            <pre>
              <code class="jsx" data-trim data-noescape>
                import { useUser } from '@contexts'

                export const WatchPage = () =&gt; {
                  const user = useUser()
                  return &lt;div&gt;{user.name}&lt;/div&gt;
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <h2>–î–µ–ø–ª–æ–∏–º</h2>
        </section>

        <section>
          <h2>–ö–∞–∫ –æ–±—ã—á–Ω–æ –¥–µ–ø–ª–æ—è—Ç?</h2>
          <aside class="notes">
            <p>–°–æ–±—Ä–∞–ª–∏ —Å—Ç–∞—Ç–∏–∫—É</p>
            <p>–ó–∞–ª–∏–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ª–∏–±–æ –≤ –æ–±–ª–∞–∫–æ</p>
            <p>–ú–æ–∂–Ω–æ –¥–æ–∫–∏–Ω—É—Ç—å CI/CD</p>
          </aside>
        </section>

        <section>
          <h2>–ß—Ç–æ –µ—â–µ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å?</h2>
          <ul>
            <li class="fragment">–ö–∞–∫–∞—è —É –≤–∞—Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞?</li>
            <li class="fragment">–ù—É–∂–Ω–∞ –ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–∑–¥–µ?</li>
            <li class="fragment">–ë–æ–ª—å—à–∞—è –ª–∏ –Ω–∞–≥—Ä—É–∑–∫–∞?</li>
          </ul>
          <aside class="notes">
            <p>–ó–∞–ø–æ–º–Ω–∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã</p>
            <p>–ü–æ—Ç–æ–º —Ä–∞—Å—Å–∫–∞–∂—É –∑–∞—á–µ–º –Ω–∞–º —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã</p>
          </aside>
        </section>

        <section>
          <h2>–ö–∞–∫ –¥–µ–ø–ª–æ–∏–º –º—ã?</h2>
          <div>
            <div style="display: grid; grid-template-columns: 1fr 100px 1fr">
              <span class="fragment">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–µ–∑–¥–µ?</span>
              <span class="fragment">=></span>
              <span class="fragment">CDN –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 100px 1fr">
              <span class="fragment">–ì–¥–µ —Ö—Ä–∞–Ω–∏–º —Å—Ç–∞—Ç–∏–∫—É?</span>
              <span class="fragment">=></span>
              <span class="fragment">–û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 100px 1fr">
              <span class="fragment">CI/CD</span>
              <span class="fragment">=></span>
              <span class="fragment">Docker</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 100px 1fr">
              <span class="fragment">Webpack dev server</span>
              <span class="fragment">=></span>
              <span class="fragment">Nginx</span>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 100px 1fr">
              <span class="fragment">–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è</span>
              <span class="fragment">=></span>
              <span class="fragment">Kubernetes</span>
            </div>
          </div>
        </section>

        <section>
          <h2>–û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</h2>
        </section>

        <section>
          <h2>Nginx</h2>
        </section>

        <section>
          <h2>Docker</h2>
        </section>

        <section>
          <h2>Kubernetes</h2>
        </section>

        <section>
          <section>
            <h2>–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h2>
            <p class="fragment">–£ –Ω–∞—Å —Å–≤–æ–π cloud storage</p>
            <p class="fragment">–ê —É –≤–∞—Å?</p>
          </section>
  
          <section>
            <h2>–ö–∞–∫ –∑–∞–ª–∏–≤–∞–µ–º —Ñ–∞–π–ª—ã?</h2>
            <ul>
              <li class="fragment">–ó–∞–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –±–∞–Ω–¥–ª—ã</li>
              <li class="fragment">–§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è application/octet-stream</li>
              <li class="fragment">–ù–µ—Ç multiple upload</li>
            </ul>
            <aside class="notes">
              <p>–ü—Ä–∏ –¥–µ–ø–ª–æ–µ —á–µ—Ä–µ–∑ git –¥–∏—Ñ—Ñ–∞–µ–º (–ª–µ—Ä–Ω–∞ –Ω–µ —É–º–µ–µ—Ç, –º–æ–≥—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø–æ—Ç–æ–º –ø–æ—á–µ–º—É)</p>
              <p>–°–∞–º–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º mime-type –ø—Ä–∏ –∑–∞–ª–∏–≤–∫–µ</p>
              <p>Concurrency –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ª–∏–≤–∫–∏ –±–∞–Ω–¥–ª–æ–≤ 4</p>
            </aside>
          </section>

          <section>
            <h2>–ö–∞–∫ —Ö—Ä–∞–Ω–∏–º —Ñ–∞–π–ª—ã?</h2>
          </section>

          <section>
            <h2>–ë–µ–∑ –≤–µ—Ä—Å–∏–π</h2>
            <pre>
              <code class="jsx" data-trim data-noescape>
                /bucket
                ‚îú‚îÄ‚îÄ app-host
                ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 888.330d58fad93b1eb0dfa5.js
                ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ app.d4c4be8e2eb88907410a.js
                ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
                ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ react.39acefad56af0f11d471.js
                ‚îî‚îÄ‚îÄ watch
                    ‚îú‚îÄ‚îÄ 888.3b49de53a0194486d9db.js
                    ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                    ‚îú‚îÄ‚îÄ app.c47cc95c56185a4b15b4.js
                    ‚îú‚îÄ‚îÄ index.html
                    ‚îú‚îÄ‚îÄ react.0ee026e74f05c2e958a1.js
                    ‚îî‚îÄ‚îÄ remoteEntry.js
              </code>
            </pre>
          </section>

          <section>
            <h2>–° –≤–µ—Ä—Å–∏—è–º–∏</h2>
            <pre>
              <code class="jsx" data-trim data-noescape>
                /bucket
                ‚îú‚îÄ‚îÄ app-host
                ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2.0.0
                ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
                ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 888.3b49de53a0194486d9db.js
                ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ 2.0.1
                ‚îÇ¬†¬†¬†¬†¬†¬† ‚îú‚îÄ‚îÄ index.html
                ‚îÇ¬†¬†¬†¬†¬†¬† ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                ‚îî‚îÄ‚îÄ watch
                    ‚îú‚îÄ‚îÄ 2.0.0
                    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
                    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                    ‚îî‚îÄ‚îÄ 2.0.1
                        ‚îú‚îÄ‚îÄ index.html
                        ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                        ‚îî‚îÄ‚îÄ remoteEntry.js
              </code>
            </pre>
            <aside class="notes">
              <p>–ü–æ—Ç–æ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏</p>
            </aside>
          </section>
        </section>

        <section>
          <h2>–ù–µ —É–º–µ–µ–º –≤ public bucket</h2>
          <aside class="notes">
            <p>–î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º —á–µ—Ä–µ–∑ pre-sign url</p>
          </aside>
        </section>

        <section>
          <h2>–°–≤–æ–π CDN</h2>
          <p class="fragment">–° pre-sign url</p>
        </section>

        <section>
          <section>
            <h2>Custom Nginx</h2>
            <ul>
              <li class="fragment">ngx_devel_kit</li>
              <li class="fragment">set-misc</li>
              <li class="fragment">lua-nginx-module</li>
            </ul>
          </section>

          <section>
            <h2>–ê –∫–∞–∫ –∏—Ö –¥–æ–±–∞–≤–∏—Ç—å?</h2>
            <ul>
              <li class="fragment highlight-red">–°–æ–±—Ä–∞—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤</li>
              <li class="fragment highlight-green">–°–∫–∞—á–∞—Ç—å –∏–∑ dockerhub</li>
            </ul>
          </section>

          <section>
            <p>https://hub.docker.com/r/openresty/openresty/</p>
          </section>

          <section>
            <h2>–ö–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å?</h2>
            <ul>
              <li class="fragment">API</li>
              <li class="fragment">Bundles</li>
              <li class="fragment">Routing</li>
            </ul>
          </section>

          <section>
            <h2>–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç nginx.conf?</h2>
          </section>

          <section>
            <p>API</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-7|2|4-6">
                server {
                  listen 3001;
                  ...
                  location = /graphql {
                    proxy_pass 'http://${BACKEND_URL}:8000/grahpql';
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <p>Bundles</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-15|2,9,13|4-6">
                server {
                  listen 3001;
                  ...
                  location / {
                    try_url $uri @proxy;
                  }
                }
                server {
                  listen 3002;
                  ...
                }
                server {
                  listen 3003;
                  ...
                }
              </code>
            </pre>
          </section>

          <section>
            <p>Bundles</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-15|1,15|2-6|8-12|14">
                location @proxy {
                  set $bucket ${BUCKET};
                  set $key $1;
                  set $signature '';
                  set $access_key ${ACCESS_KEY};
                  set $secret_key ${SECRET_KEY};

                  set_by_lua 'return ngx.cookie_time(ngx.time())';
                  set $string_to_sign
                    '$request_method\n\n\n\nx-amz-date:$now\n/$bucket/$key';
                  set_hmac_sha1 $signature $secret_key $string_to_sign;
                  set_encode_base64 $access_key $signature;

                  error_page 404 = @index_proxy;
                }
              </code>
            </pre>
          </section>

          <section>
            <p>Routing</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-13|1,13|3">
                location @index_proxy {
                  set $bucket ${BUCKET};
                  set $key 'app-host/index.html';
                  set $signature '';
                  set $access_key ${ACCESS_KEY};
                  set $secret_key ${SECRET_KEY};

                  set_by_lua 'return ngx.cookie_time(ngx.time())';
                  set $string_to_sign
                    '$request_method\n\n\n\nx-amz-date:$now\n/$bucket/$key';
                  set_hmac_sha1 $signature $secret_key $string_to_sign;
                  set_encode_base64 $access_key $signature;
                }
              </code>
            </pre>
          </section>

          <section>
            <h2>–ê –∫–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏?</h2>
          </section>

          <section>
            <p>–ù–∞ –≤—Ö–æ–¥–µ nginx.conf.template</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-7|5">
                server {
                  listen 3001;
                  ...
                  location = /graphql {
                    proxy_pass 'http://${BACKEND_URL}:8000/grahpql';
                  }
                }
              </code>
            </pre>
            <div class="fragment">
              <pre>
                <code class="jsx" data-trim data-noescape>
                  envsubtr '${BACKEND_URL}' &lt; nginx.conf.template \
                    &gt; /etc/nginx/conf.d/default.conf
                </code>
              </pre>
            </div>
          </section>

          <section>
            <h2>–ò —Ç—É—Ç –≤—Ä—ã–≤–∞–µ—Ç—Å—è Kubernetes</h2>
          </section>

          <section>
            <p>–ù–∞ –≤—ã—Ö–æ–¥–µ /etc/nginx/conf.d/default.conf</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-7|5">
                server {
                  listen 3001;
                  ...
                  location = /graphql {
                    proxy_pass 'http://backend-app:8000/grahpql';
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <h2>–•–∞—Ä–¥–∫–æ–¥–∏–º ip...</h2>
          </section>

          <section>
            <p>–ù–∞ –≤—ã—Ö–æ–¥–µ /etc/nginx/conf.d/default.conf</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-7|5">
                server {
                  listen 3001;
                  ...
                  location = /graphql {
                    proxy_pass 'http://158.134.171.13:8000/grahpql';
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <h2>–°–Ω–æ–≤–∞ –≤—Ä—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h2>
          </section>

          <section>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-15|2,9,13">
                server {
                  listen 3001;
                  ...
                  location / {
                    try_url $uri @proxy;
                  }
                }
                server {
                  listen 3002;
                  ...
                }
                server {
                  listen 3003;
                  ...
                }
              </code>
            </pre>
          </section>

          <section>
            <p>–ù–æ–≤—ã–π nginx.conf.template</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-7|4-6">
                server {
                  listen 3001;
                  ...
                  location ~ ^/bundles/(.*) {
                    try_url $uri @proxy;
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <p>watch/webpack.config.prod.ts</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-5|4">
                output: {
                  path: path.resolve(process.cwd(), "dist"),
                  filename: "[name].[contenthash].js",
                  publicPath: "http://your-domain.com/bundles/watch"
                }
              </code>
            </pre>
          </section>

          <section>
            <p>app-host/webpack.config.prod.ts</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-4|2-3">
                remotes: {
                  watch:
                    "watch@https://domain.com/bundles/watch/remoteEntry.js"
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <h2>–ë–æ–Ω—É—Å</h2>
        </section>

        <section>
          <section>
            <h2>–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
          </section>

          <section>
            <pre>
              <code class="jsx" data-trim data-noescape>
                /bucket
                ‚îú‚îÄ‚îÄ app-host
                ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2.0.0
                ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
                ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 888.3b49de53a0194486d9db.js
                ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ 2.0.1
                ‚îÇ¬†¬†¬†¬†¬†¬† ‚îú‚îÄ‚îÄ index.html
                ‚îÇ¬†¬†¬†¬†¬†¬† ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                ‚îî‚îÄ‚îÄ watch
                    ‚îú‚îÄ‚îÄ 2.0.0
                    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index.html
                    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                    ‚îî‚îÄ‚îÄ 2.0.1
                        ‚îú‚îÄ‚îÄ index.html
                        ‚îú‚îÄ‚îÄ 938.85ead56334c64eec9261.js
                        ‚îî‚îÄ‚îÄ remoteEntry.js
              </code>
            </pre>
          </section>

          <section>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-15|4-13|3">
                remotes: {
                  watch: `promise new Promise(resolve => {
                    ...
                    resolve({
                      get: (request) => window.watch.get(request),
                      init: (arg) => {
                        try {
                          return window.watch.init(arg)
                        } catch(e) {
                          console.log('remote container already initialized')
                        }
                      }
                    })
                  })
                },
              </code>
            </pre>
          </section>

          <section>
            <p>–í–º–µ—Å—Ç–æ ... –º–æ–≥–ª–æ –±—ã—Ç—å</p>
            <pre>
              <code class="jsx" data-trim data-noescape data-line-numbers="1-12|1|2-8,10-11|9">
                fetch('http://version-api.com?mf=watch')
                  .then(watchVersion => {
                    const url = "http://domain.com/bundles/"
                      + watchVersion + "/remoteEntry.js";
                    const script = document.createElement('script');
                    script.src = url;
                    script.defer = true;
                    script.onload = () => {
                      resolve(...)
                    }
                    document.head.appendChild(script);
                  });
              </code>
            </pre>
          </section>
        </section>

        <section>
          <section>
            <h2>–ê –µ—â–µ CI/CD</h2>
          </section>

          <section>
            <img class="r-stretch" src="./images/different-story.jpeg">
          </section>
        </section>

        <section>
          <section>
            <h2>–†–∞–∑–±–æ—Ä –ø–æ–ª–µ—Ç–æ–≤</h2>
          </section>

          <section>
            <h2>–ö–∞–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å?</h2>
          </section>

          <section>
            <h2>–ö–∞–∫ –¥–µ–ø–ª–æ–∏—Ç—Å—è?</h2>
          </section>

          <section>
            <h2>–ö–∞–∫ —Ñ—Ä–æ–Ω—Ç –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —á—Ç–æ-—Ç–æ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å?</h2>
          </section>

          <section>
            <h2>–ö–∞–∫ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å?</h2>
          </section>
        </section>

        <section>
          <h2>–í—ã–≤–æ–¥—ã</h2>
          <ul>
            <li class="fragment">–ë—ã—Å—Ç—Ä–∞—è –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞/–¥–µ–ø–ª–æ–π</li>
            <li class="fragment">–°–Ω–∏–∑–∏–ª–∏—Å—å —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É UI</li>
            <li class="fragment">–ü—Ä–æ—Å—Ç–æ –¥–µ—Ä–∂–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
            <li class="fragment">–í –º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞—Ö –µ—â—ë –º–Ω–æ–≥–æ –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω–æ–≥–æ</li>
            <li class="fragment">–£—Å–ª–æ–∂–Ω–∏–ª–∞—Å—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</li>
            <li class="fragment">–í—Å–µ–≥–¥–∞ –∑–∞–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏</li>
          </ul>
        </section>

        <section>
          <div style="align-items: center; display: flex">
            <div style="flex: 1">
              <div
                class="avatar"
                style="
                  background: url(./images/me.jpg) no-repeat;
                  background-size: cover;
                  border-radius: 50%;
                  height: 300px;
                  margin: 0 auto;
                  overflow: hidden;
                  width: 300px;
                "
              ></div>
              <p class="name" style="font-size: 28px">–í–∞–¥–∏–º –ú–∞–ª—é—Ç–∏–Ω</p>
              <p class="telegram" style="font-size: 28px">
                —Ç–µ–ª–µ–≥—Ä–∞–º: t.me/mfpjke
              </p>
              <p class="chat" style="font-size: 28px">—á–∞—Ç–∏–∫: t.me/microfrontends</p>
              <p class="email" style="font-size: 28px">
                –ø–æ—á—Ç–∞: mltn.dev@yandex.ru
              </p>
              <p class="site" style="font-size: 28px">—Å–∞–π—Ç: mltn.dev</p>
            </div>

            <div style="flex: 1;">
              <h2>Q&A</h2>
            </div>
          </div>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
